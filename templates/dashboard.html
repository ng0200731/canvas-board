{% extends "base.html" %}
{% block title %}Dashboard — Canva Board{% endblock %}
{% block content %}
<div class="dashboard">
    <h2>Your Boards</h2>
    <form class="new-board-form" method="POST" action="{{ url_for('board.create_board') }}">
        <input type="text" name="title" placeholder="New board title..." required>
        <button type="submit">+ Create Board</button>
    </form>
    {% if pending_email_count > 0 %}
    <p style="margin-bottom:1rem;font-size:0.9rem;">
        <a href="{{ url_for('email.inbox') }}">{{ pending_email_count }} pending email(s)</a>
    </p>
    {% endif %}
    <div class="board-grid">
        {% for b in boards %}
        <a class="board-card" href="{{ url_for('board.view_board', board_id=b.id) }}">
            <h3>{{ b.title }}</h3>
            <p>{{ b.card_count }} card(s) · {{ b.view_mode }}</p>
            <p>{{ b.updated_at[:10] }}</p>
        </a>
        {% endfor %}
        {% if not boards %}
        <p style="opacity:0.5;">No boards yet. Create one above.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
